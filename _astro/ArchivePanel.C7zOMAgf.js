import{p as _,o as Y,i as Z,s as U,a as H}from"./translation.vKGvEsBp.js";import{p as J,f as A,a as y,b as Q,s as V,m as W,g as s,r as i,c as o,d as f,t as j,e as D,h as u}from"./render.B3d8_inp.js";import{e as N,i as z}from"./each.CS7vSawI.js";import{U as X}from"./constants.xWIsnqki.js";import{I as $}from"./zh_TW.0pAQAtw8.js";import{g as tt}from"./url-utils.CGaaXHSn.js";var at=A(`<a class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial]"><div class="flex flex-row justify-start items-center h-full"><div class="w-[15%] md:w-[10%] transition text-sm text-right text-50"> </div> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"><div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                       bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                       outline outline-4 z-50
                       outline-[var(--card-bg)]
                       group-hover:outline-[var(--btn-plain-bg-hover)]
                       group-active:outline-[var(--btn-plain-bg-active)]"></div></div> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                     group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                     text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> </div> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                     whitespace-nowrap overflow-ellipsis overflow-hidden text-30"> </div></div></a>`),et=A(`<div><div class="flex flex-row w-full items-center h-[3.75rem]"><div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75"> </div> <div class="w-[15%] md:w-[10%]"><div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto
                  -outline-offset-[2px] z-50 outline-3"></div></div> <div class="w-[70%] md:w-[80%] transition text-left text-50"> </div></div> <!></div>`),rt=A('<div class="card-base px-8 py-6"></div>');function vt(C,c){J(c,!1);let h=_(c,"tags",12),g=_(c,"categories",12),E=_(c,"sortedPosts",24,()=>[]);const m=new URLSearchParams(window.location.search);h(m.has("tag")?m.getAll("tag"):[]),g(m.has("category")?m.getAll("category"):[]);let P=W([]);function M(a){const e=(a.getMonth()+1).toString().padStart(2,"0"),l=a.getDate().toString().padStart(2,"0");return`${e}-${l}`}function O(a){return a.map(e=>`#${e}`).join(" ")}Y(async()=>{let a=E();h().length>0&&(a=a.filter(t=>Array.isArray(t.data.tags)&&t.data.tags.some(r=>h().includes(r)))),g().length>0&&(a=a.filter(t=>t.data.category&&g().includes(t.data.category)||!t.data.category&&g().includes(X)));const e=a.reduce((t,r)=>{const d=r.data.published.getFullYear();return t[d]||(t[d]=[]),t[d].push(r),t},{}),l=Object.keys(e).map(t=>({year:Number.parseInt(t),posts:e[Number.parseInt(t)]}));l.sort((t,r)=>r.year-t.year),V(P,l)}),Z();var p=rt();N(p,5,()=>s(P),z,(a,e)=>{var l=et(),t=o(l),r=o(t),d=o(r,!0);i(r);var I=f(r,4),R=o(I);i(I),i(t);var T=f(t,2);N(T,1,()=>s(e).posts,z,(x,n)=>{var v=at(),S=o(v),w=o(S),q=o(w,!0);i(w);var b=f(w,4),B=o(b,!0);i(b);var k=f(b,2),F=o(k,!0);i(k),i(S),i(v),j((G,K,L)=>{U(v,"href",G),U(v,"aria-label",s(n).data.title),u(q,K),u(B,s(n).data.title),u(F,L)},[()=>tt(s(n).slug),()=>M(s(n).data.published),()=>O(s(n).data.tags)],D),y(x,v)}),i(l),j(x=>{u(d,s(e).year),u(R,`${s(e).posts.length??""} ${x??""}`)},[()=>H($.postsCount)],D),y(a,l)}),i(p),y(C,p),Q()}export{vt as default};
