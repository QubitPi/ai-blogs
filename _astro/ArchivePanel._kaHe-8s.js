import{p as _,o as J,i as Q,s as I,a as V}from"./translation.CI4mHVsA.js";import{p as W,f as P,a as y,b as X,s as Z,m as $,g as i,r as s,c as o,d as f,t as j,e as C,h as c}from"./render._D_RCwKb.js";import{e as D,i as M}from"./each.twdX4J9P.js";import{I as N}from"./zh_TW.DbB3Y4uO.js";import{g as tt}from"./url-utils.xMxWango.js";var et=P(`<a class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial]"><div class="flex flex-row justify-start items-center h-full"><div class="w-[15%] md:w-[10%] transition text-sm text-right text-50"> </div> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"><div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                       bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                       outline outline-4 z-50
                       outline-[var(--card-bg)]
                       group-hover:outline-[var(--btn-plain-bg-hover)]
                       group-active:outline-[var(--btn-plain-bg-active)]"></div></div> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                     group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                     text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> </div> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                     whitespace-nowrap overflow-ellipsis overflow-hidden text-30"> </div></div></a>`),at=P(`<div><div class="flex flex-row w-full items-center h-[3.75rem]"><div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75"> </div> <div class="w-[15%] md:w-[10%]"><div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto
                  -outline-offset-[2px] z-50 outline-3"></div></div> <div class="w-[70%] md:w-[80%] transition text-left text-50"> </div></div> <!></div>`),rt=P('<div class="card-base px-8 py-6"></div>');function nt(U,g){W(g,!1);let m=_(g,"tags",12),h=_(g,"categories",12),q=_(g,"sortedPosts",24,()=>[]);const d=new URLSearchParams(window.location.search);m(d.has("tag")?d.getAll("tag"):[]),h(d.has("category")?d.getAll("category"):[]);const B=d.get("uncategorized");let A=$([]);function F(e){const a=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getDate().toString().padStart(2,"0");return`${a}-${l}`}function K(e){return e.map(a=>`#${a}`).join(" ")}J(async()=>{let e=q();m().length>0&&(e=e.filter(t=>Array.isArray(t.data.tags)&&t.data.tags.some(r=>m().includes(r)))),h().length>0&&(e=e.filter(t=>t.data.category&&h().includes(t.data.category))),B&&(e=e.filter(t=>!t.data.category));const a=e.reduce((t,r)=>{const n=r.data.published.getFullYear();return t[n]||(t[n]=[]),t[n].push(r),t},{}),l=Object.keys(a).map(t=>({year:Number.parseInt(t),posts:a[Number.parseInt(t)]}));l.sort((t,r)=>r.year-t.year),Z(A,l)}),Q();var p=rt();D(p,5,()=>i(A),M,(e,a)=>{var l=at(),t=o(l),r=o(t),n=o(r,!0);s(r);var S=f(r,4),L=o(S);s(S),s(t);var O=f(t,2);D(O,1,()=>i(a).posts,M,(x,v)=>{var u=et(),k=o(u),w=o(k),R=o(w,!0);s(w);var b=f(w,4),T=o(b,!0);s(b);var z=f(b,2),Y=o(z,!0);s(z),s(k),s(u),j((E,G,H)=>{I(u,"href",E),I(u,"aria-label",i(v).data.title),c(R,G),c(T,i(v).data.title),c(Y,H)},[()=>tt(i(v).slug),()=>F(i(v).data.published),()=>K(i(v).data.tags)],C),y(x,u)}),s(l),j(x=>{c(n,i(a).year),c(L,`${i(a).posts.length??""} ${x??""}`)},[()=>V(i(a).posts.length===1?N.postCount:N.postsCount)],C),y(e,l)}),s(p),y(U,p),X()}export{nt as default};
